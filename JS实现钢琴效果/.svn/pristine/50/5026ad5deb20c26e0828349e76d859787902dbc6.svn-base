<template>
  <div
    id="popwindow"
    v-show="showPop"
    style="width:700px;height:550px;z-index:1000;position:absolute;background-color:#ffffff;"
  >
    <div id="poptitle">
      <div style=" float:left;width:640px;font-size:25px;margin-top:7px;color:#ffffff;">新能源场站信息</div>
      <span @click="closepop()" class="popclose" style="color:#D4E2F3;">x</span>
    </div>
    <div v-show="tabIndex==0" class="pop-tab-content">
      <table class="table table-striped" style="margin-top:5px;height: 100%;">
        <tbody style="margin-top:5px;height: 100%;">
          <tr>
            <td class="leftcolumn">名称</td>
            <td class="rightcolumn">大唐天立泉</td>
          </tr>
          <tr>
            <td class="leftcolumn">所在地区</td>
            <td class="rightcolumn">张掖市</td>
          </tr>
          <tr>
            <td class="leftcolumn">省</td>
            <td class="rightcolumn">甘肃省</td>
          </tr>
          <tr>
            <td class="leftcolumn">市</td>
            <td class="rightcolumn">张掖市</td>
          </tr>
          <tr>
            <td class="leftcolumn">签订并网协议容量</td>
            <td class="rightcolumn">49.5</td>
          </tr>
          <tr>
            <td class="leftcolumn">实际并网容量</td>
            <td class="rightcolumn">49.5</td>
          </tr>
          <tr>
            <td class="leftcolumn">机组台数</td>
            <td class="rightcolumn">33</td>
          </tr>
          <tr>
            <td class="leftcolumn">风电场可用率</td>
            <td class="rightcolumn">94.51</td>
          </tr>
          <tr>
            <td class="leftcolumn">当月总发电量</td>
            <td class="rightcolumn">7995</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div v-show="tabIndex==1" class="pop-tab-content">
      <div
        id="querydiv"
        style="width:700px; border-bottom: 1px solid #D1D8DE;height: 40px;background-color: #e8f0f4; padding-top: 5px;"
      >
        &nbsp; &nbsp; &nbsp;开始日期：
        <input
          type="text"
          placeholder="请选择开始日期"
          id="starttime"
          value="2018-11-30"
          style="border-radius:0px;width:130px;border:1px solid #aeaeae;height: 26px;margin: 1px 2px 1px 0px;"
        > &nbsp; &nbsp; &nbsp;
        结束日期：
        <input
          type="text"
          placeholder="请选择结束日期"
          id="endtime"
          style="border-radius:0px;width:130px;border:1px solid #aeaeae;height: 26px;margin: 1px 12px 1px 20px;"
        >
        <button
          type="button"
          class="btn btn-primary"
          data-toggle="button"
          onclick="selectPowerWindValue()"
        >查询</button>
      </div>
      <div id="echartscontent" style="width:700px;height:380px;"></div>
    </div>

    <div id="popbottom">
      <el-row>
        <el-col :xs="12" :sm="12" :md="12" :lg="12" :xl="12">
          <div
            @click="changetab(0)"
            v-bind:class="[tabIndex==0 ?'pop-tab-item-active' :'pop-tab-item']"
          >
            <div>
              <nsd-icon style="font-size: 25px;" iconName="nsd-icon-gongdan"></nsd-icon>项目信息
            </div>
          </div>
        </el-col>
        <el-col :xs="12" :sm="12" :md="12" :lg="12" :xl="12">
          <div
            @click="changetab(1)"
            v-bind:class="[tabIndex==1 ? 'pop-tab-item-active' : 'pop-tab-item']"
          >
            <div>
              <nsd-icon style="font-size: 25px;" iconName="nsd-icon-tubiao-zhexiantu"></nsd-icon>运行信息
            </div>
          </div>
        </el-col>
      </el-row>
    </div>
  </div>
</template>
<script>
import echart from 'echarts'
export default {
  data() {
    return {
      data: [],
      showPop: false,
      tabIndex: 0
    }
  },
  mounted() {
    this.init()
  },
  methods: {
    init() {
      var data = {
        xAxisname: '（2018-11-30-2018-11-30）日数据',
        legenddata: ['实际功率', '理论功率'],
        seriesdata: {
          theory: [
            '0.5',
            '0.5',
            '0.5',
            '0.9',
            '0.6',
            '0.7',
            '0.1',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.2',
            '0.1',
            '0.0',
            '0.0',
            '0.1',
            '0.0',
            '0.1',
            '0.0',
            '0.0',
            '0.0',
            '0.2',
            '0.5',
            '0.2',
            '0.2',
            '0.2',
            '0.0',
            '0.1',
            '0.1',
            '0.7',
            '0.8',
            '0.7',
            '1.0',
            '2.1',
            '2.5',
            '2.1',
            '1.8',
            '1.1',
            '0.6',
            '0.6',
            '1.0',
            '0.6',
            '0.5',
            '1.0',
            '0.9',
            '1.0',
            '1.6',
            '2.4',
            '1.5',
            '1.3',
            '0.7',
            '0.6',
            '0.9',
            '1.0',
            '0.8',
            '0.4',
            '0.6',
            '0.4',
            '0.2',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.2',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.1',
            '0.4',
            '0.0',
            '0.0',
            '0.3',
            '4.1'
          ],
          real: [
            '0.0',
            '4.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.9',
            '1.9',
            '1.8',
            '1.1',
            '0.6',
            '0.6',
            '1.0',
            '0.6',
            '0.2',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0',
            '0.0'
          ]
        },
        xAxisdata: [
          '00:00',
          '00:15',
          '00:30',
          '00:45',
          '01:00',
          '01:15',
          '01:30',
          '01:45',
          '02:00',
          '02:15',
          '02:30',
          '02:45',
          '03:00',
          '03:15',
          '03:30',
          '03:45',
          '04:00',
          '04:15',
          '04:30',
          '04:45',
          '05:00',
          '05:15',
          '05:30',
          '05:45',
          '06:00',
          '06:15',
          '06:30',
          '06:45',
          '07:00',
          '07:15',
          '07:30',
          '07:45',
          '08:00',
          '08:15',
          '08:30',
          '08:45',
          '09:00',
          '09:15',
          '09:30',
          '09:45',
          '10:00',
          '10:15',
          '10:30',
          '10:45',
          '11:00',
          '11:15',
          '11:30',
          '11:45',
          '12:00',
          '12:15',
          '12:30',
          '12:45',
          '13:00',
          '13:15',
          '13:30',
          '13:45',
          '14:00',
          '14:15',
          '14:30',
          '14:45',
          '15:00',
          '15:15',
          '15:30',
          '15:45',
          '16:00',
          '16:15',
          '16:30',
          '16:45',
          '17:00',
          '17:15',
          '17:30',
          '17:45',
          '18:00',
          '18:15',
          '18:30',
          '18:45',
          '19:00',
          '19:15',
          '19:30',
          '19:45',
          '20:00',
          '20:15',
          '20:30',
          '20:45',
          '21:00',
          '21:15',
          '21:30',
          '21:45',
          '22:00',
          '22:15',
          '22:30',
          '22:45',
          '23:00',
          '23:15',
          '23:30'
        ]
      }

      var option = {
        title: {
          text: '归一化风电出力(%)'
        },
        legend: {
          data: ['实际功率', '理论功率']
        },
        tooltip: {
          trigger: 'axis'
        },
        xAxis: {
          data: data.xAxisdata
        },
        yAxis: [
          {
            type: 'value',
            axisLabel: {
              formatter: '{value}'
            }
          }
        ],
        grid: {
          x: 80,
          y: 50,
          x2: 30,
          y2: 60,
          borderWidth: 1
        },
        series: [
          {
            name: '实际功率',
            type: 'line',
            data: data.seriesdata.theory
          },
          {
            name: '理论功率',
            type: 'line',
            data: data.seriesdata.real
          }
        ]
      }
      var myChart = echart.init(
        document.getElementById('echartscontent'),
        'macarons'
      )
      myChart.setOption(option)
      myChart.resize()
    },
    changetab(index) {
      this.tabIndex = index
    },
    closepop() {
      this.show(false)
    },
    show(show) {
      this.showPop = show
    }
  }
}
</script>
<style scoped>
.btn {
  padding: 2px 5px;
}
.leftcolumn {
  text-align: center;
  font-size: 20px;
  margin-left: 40px;
  color: #98bbe1;
  padding: 8px;
  border-top: 1px solid #ddd;
}
.rightcolumn {
  font-size: 20px;
  text-align: left;
  padding: 8px;
  border-top: 1px solid #ddd;
}
#popbottom {
  border-top: 1px solid #d1d8de;
  text-align: center;
  border-radius: 5px 5px 5px 5px;
}
.popclose {
  float: right;
  font-size: 35px;
  padding: 0px 15px;
  cursor: pointer;
}
#poptitle {
  text-align: center;
  background-color: #64a5df;
  height: 50px;
}
.table {
  width: 100%;
  max-width: 100%;
  margin-bottom: 20px;
  border-color: grey;
  padding: 8px;
}
.pop-tab-content {
  width: 700px;
  height: 450px;
}
.pop-tab-item-active {
  height: 50px;
  background-color: #64a5df;
  color: #ffffff;
  font-size: 25px;
  vertical-align: middle;
  cursor: pointer;
}
.pop-tab-item {
  height: 50px;
  color: #4a8ac9;
  font-size: 25px;
  vertical-align: middle;
  cursor: pointer;
}
</style>